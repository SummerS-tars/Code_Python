#### 阶段七（重制版）：现代化 GUI 与 结果可视化

**目标**：彻底改造界面。使用 `ttk` 主题，并将结果展示区升级为“可视化时间轴”风格，支持线路颜色区分。

* **涉及文件**: `src/gui_app.py`, `src/config.py` (新增颜色配置)

**Agent 指令提示词 (Phase 7 - Refined):**

> **复制以下内容给 Agent：**
> 我们的目标是彻底美化 GUI，使其看起来像一个现代的 APP。
> 1. **修改 `src/config.py**`:
> * 添加一个字典 `LINE_COLORS`，定义上海各线路的 HEX 颜色。
> * 例如：`{'1号线': '#E3002C', '2号线': '#80BC00', '3号线': '#FFD600', '4号线': '#48227F', '10号线': '#C6AFCE', ...}` (请搜集或编造合理的颜色，默认灰色)。
> 
> 
> 2. **重构 `src/gui_app.py` 的界面布局**:
> * **引入样式**: 使用 `tkinter.ttk.Style`，设置全局字体为微软雅黑/Arial，字号 10-12。设置 Theme 为 'clam' 或 'alt' 以去除去旧的 3D 边框。
> * **布局调整**:
> * **左侧 (Sidebar)**: 宽度 300px，放置 `Combobox` 输入框、策略单选框、搜索按钮、数据更新按钮。背景色设为浅灰。
> * **右侧 (Content)**: 放置结果展示区。
> 
> 
> 
> 
> 3. **实现“可视化结果卡片”**:
> * 废弃原来的 `Text` 组件，改用 `Canvas` + `Scrollbar`。
> * 创建一个新类 `RouteRenderer` 或在 `MetroGUI` 中添加 `draw_route(canvas, path_list)` 方法。
> * **绘制逻辑**：
> * 遍历 `path_list`。
> * 对于每个站点，在 Canvas 上绘制一个圆点 `(x, y)`。
> * **连线**：在圆点之间绘制线条。线条颜色从 `config.LINE_COLORS` 获取。
> * **文本**：在圆点旁绘制站名。
> * **换乘处理**：如果遇到“换乘”，绘制一个特殊的图标或虚线连接，并标注“换乘”。
> * **动态高度**：根据站点数量自动调整 Canvas 的 `scrollregion`。
> 
> 
> 
> 
> 
> 
> 这样做出来的效果应该是：左边输入，右边画出一条漂亮的、带有颜色标记的地铁线路图，而不是枯燥的文字。

---
